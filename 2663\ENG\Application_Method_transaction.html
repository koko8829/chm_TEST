<!DOCTYPE	html PUBLIC	'-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>  
<html	xmlns='http://www.w3.org/1999/xhtml'> 
<head> 
<meta	http-equiv='Content-Type' content='text/html; charset=utf-8'/> 
<title>Application_Method_transaction</title> 
<style type='text/css'> </style>
<link	href='../../help_Eng.css' rel='stylesheet' type='text/css' /> 
</head> 
 
<body> 
<table width='100%' border='0' cellpadding='0' cellspacing='0' bgcolor='#FFFFFF'> 
	<tr> 
		<td	height='44'	colspan='2'	background='../../top_bg1.gif'> 
			<table width='100%' border='0' cellspacing='0' cellpadding='0'  bgcolor='#ffffff'> 
				<tr> 
					<td><img src='../../logo1.gif' width='134' height='44' /></td> 
					<td width='100%' bgcolor='#FFFFFF'> 
					<td style='padding-right:6px;'><img src='../../logo4.gif' width='110' height='28' /></td> 
				</tr> 
			</table> 
		</td> 
	</tr> 
	<tr> 
		<td	height='28'	colspan='2' bgcolor='#eeeeee'> 
			<table width='600' border='0' cellspacing='0' cellpadding='0'>  
				<tr> 
					<td	width='107'><img src='../../logo2.gif' width='107' height='28' /></td>  
					<td	class='top_navi'>Application > Method > transaction</td> 
				</tr> 
			</table> 
		</td> 
	</tr> 
	<tr> 
		<td	height='20'	colspan='2'	valign='top'> 
			<table width='82'	border='0' cellspacing='0' cellpadding='0'> 
				<tr> 
					<td></td> 
				 </tr> 
			</table> 
		</td> 
	</tr> 
 
	<tr	class='list'> 
		<td	colspan='2'	valign='top'> 
 
			<table width='98%' border='0' align='center' cellpadding='0' cellspacing='0' style='table-layout: fixed; word-wrap:break-word;'>  
				<tr> 
					<td	colspan='2' width='24'></td> 
					<td></td> 
				</tr> 
				<tr><td	colspan='3' class='title'>transaction</td></tr> 
				<tr><td colspan='3' height='5'></td></tr> 
				<tr><td colspan='3' height='1' bgcolor='#c5c5c6'></td></tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	width='10'></td> 
					<td	width='14'><img	src='../../subtitle_icon.gif' width='14' height='8' /></td> 
					<td	class='sub_title'>Supported Environments</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	colspan='2' width='24'></td> 
					<td	>				<table border ='0' width='100%'> 
					<tr> 
						<td colspan='20'>[Desktop]</td>
						<td align='right' valign='middle'><img src='../../support_legend2_2.gif' /></td> 
					</tr>
					<tr>
						<td colspan='21'>Nexacro Runtime Environment (NRE)</td>
					</tr>
					<tr>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td colspan='7' style='white-space:nowrap;'>Windows</td>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td colspan='12' style='white-space:nowrap;'>macOS</td>
					</tr>
					<tr>
						<td colspan='21'>Web Runtime Environment (WRE)</td>
					</tr>
					<tr> 
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td width='30'>Edge</td>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td width='46'>Chrome</td>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td width='40'>Safari</td>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td width='45'>Firefox</td>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td colspan='8' width='40'>Opera</td>
					</tr> 
					<tr>
						<td colspan='21' height='10'></td>
					</tr> 
					<tr>
						<td colspan='21' height='18'>[Mobile]</td>
					</tr> 
					<tr>
						<td colspan='21'>Nexacro Runtime Environment (NRE)</td>
					</tr>
					<tr> 
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td colspan='7' style='white-space:nowrap;'>Android</td>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td colspan='12' style='white-space:nowrap;'>iOS/iPadOS</td>
					</tr> 
					<tr>
						<td colspan='21'>Web Runtime Environment (WRE)</td>
					</tr>
					<tr> 
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td colspan='7' style='white-space:nowrap;'>Android Default Web Browser</td>
						<td width='16'><img src='../../support01.gif' width='16' height='17'/></td>
						<td colspan='12' style='white-space:nowrap;'>iOS/iPadOS Default Web Browser</td>
					</tr> 
				</table> 
</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	width='10'></td> 
					<td	width='14'><img	src='../../subtitle_icon.gif' width='14' height='8' /></td> 
					<td	class='sub_title'>Description</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	colspan='2'></td> 
					<td	class='list'><pre class='list'>This is a method of calling a service to update the data in the Dataset defined in the application area and executing the callback function when the transaction is completed.</pre></td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	width='10'></td> 
					<td	width='14'><img	src='../../subtitle_icon.gif' width='14' height='8' /></td> 
					<td	class='sub_title'>Syntax</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	colspan='2'></td> 
					<td	class='list'><pre class='list'>Application.transaction(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc[,bAsync[,nDataType[,bCompress]]])</pre></td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	width='10'></td> 
					<td	width='14'><img	src='../../subtitle_icon.gif'	width='14' height='8'	/></td> 
					<td	class='sub_title'>Parameters</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	colspan='2'></td> 
					<td	class='list'> 
						<table width='100%' border='1' cellpadding='7' cellspacing='0' bordercolorlight='#C6C6C6' bordercolordark='#C6C6C6' style='table-layout:fixed; word-wrap:break-word; border-collapse:collapse;'> 
							<colgroup> 
								<col width='20%'></col> 
								<col width='15%'></col> 
								<col width='50%'></col> 
								<col width='15%'></col> 
							</colgroup> 
							<tr class='table_title' bgcolor='#F6F6F6' bordercolor='#c6c6c6'> 
								<td align='center'>Parameters</td> 
								<td align='center'>Type</td> 
								<td colspan='2' align='center'>Description</td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>strSvcID</td> 
								<td>String</td> 
								<td colspan='2'><pre class='list'>A string representing an ID to distinguish transactions.</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>strURL</td> 
								<td>String</td> 
								<td colspan='2'><pre class='list'>A string representing an address to request a transaction.

strURL ::= &lt;absolute-url&gt; | &lt;relative-url&gt;

&lt;absolute-url&gt;
A string representing the absolute URL to send the request to.
It must be a web-accessible environment, and there are restrictions on its use in cross domain situations.

&lt;relative-url&gt;
Sets to the format using the prefix defined in the services area of TypeDefinition.
Alternatively, set using the relative path based on the ADL location.</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>strInDatasets</td> 
								<td>String</td> 
								<td colspan='2'><pre class='list'>A string representing the ID of a Dataset sent to the server for a data transaction
The Dataset must be defined in AppVariables of an Application.
The argument is specified with the format "input ID=Dataset ID". You can specify multiple Datasets by dividing them with white spaces.

ex) "input1=DataSet00 input2=DataSet01"

The Dataset object of the Application sub-object can be set as follows:

ex) "input1=mainframe.frame.form.Dataset00 input2=Dataset01"</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>strOutDatasets</td> 
								<td>String</td> 
								<td colspan='2'><pre class='list'>Set the DataSet ID for receiving data sent from the server in strings.
The DataSet should be defined in the AppVariables area of the Application.
"DataSet ID=Output ID" is the setting format and multiple DataSet can be received and distinguished by spacing.

ex) "DataSet00=output0 DataSet01=output1"

One Output Dataset (Output ID) can be received from multiple Datasets in the format below.

ex) "DataSet00=output0 DataSet01=output0"

The Dataset object of the Application sub-object can be set as follows:

ex) "mainframe.frame.form.Dataset00=ouput0 Dataset01=output1"</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>strArgument</td> 
								<td>String</td> 
								<td colspan='2'><pre class='list'>A string representing the information sent to the server page
An argument is specified with the format "variable ID=variable value" while you can specify multiple arguments by dividing them with white spaces.

ex) "argu0=test argu1=30"</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>strCallbackFunc</td> 
								<td>String</td> 
								<td colspan='2'><pre class='list'>A string representing a callback that will be called upon receiving the result of a transaction
The callback must be defined in the domain of a Form or an Application</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>bAsync</td> 
								<td>Boolean</td> 
								<td colspan='2'><pre class='list'>Designate whether transactions should be processed asynchronously (ASync).

When set to true, transactions will be processed asynchronously (ASync) and the script will be executed, regardless of transaction completion.
When set to false, transactions will be processed synchronously and script execution will be stopped until the transaction is completed.

If the value is not set, it will be applied as true.</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>nDataType</td> 
								<td>Number</td> 
								<td colspan='2'><pre class='list'>It determines the type of the data used in a transaction.
 
For 0, XML-formatted data will be used.
For 1, binary data will be used.
For 2, SSV-formatted data will be used.
For 3, JSON-formatted data will be used.

The default value is 0.</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td>bCompress</td> 
								<td>Boolean</td> 
								<td colspan='2'><pre class='list'>Designate whether data should be compressed during transactions.

When set to true, data will be compressed and transmitted. 
When set to false, data will be transmitted without compression.

If the value is not set, it will be applied as false.</pre></td> 
							</tr> 
							<tr class='list' bgcolor='#FFFFFF' bordercolor='#c6c6c6'> 
								<td colspan='4'>Sample Call:<br><pre class='list'>var objApp = nexacro.getApplication() ;
objApp.transaction( "MyService01" ,"DataSrv::samplexml.jsp","input1=Dataset02","Dataset03=output1","a=b","callbackFunction" );
objApp.transaction( "MyService01" ,"DataSrv::samplexml.jsp","input1=Dataset02","Dataset03=output1","a=b","callbackFunction",false,1,false );</pre></td> 
							</tr> 
						</table> 
					</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	width='10'></td> 
					<td	width='14'><img	src='../../subtitle_icon.gif'	width='14' height='8'	/></td> 
					<td	class='sub_title'>Return</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	colspan='2'></td> 
					<td	class='list'> 
None 
					</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	width='10'></td> 
					<td	width='14'><img	src='../../subtitle_icon.gif'	width='14' height='8'	/></td> 
					<td	class='sub_title'>Remark</td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
				<tr> 
					<td	colspan='2'></td> 
					<td	class='list'><pre class='list'>‘- The transaction() method defined in Application and Form has the same basic function, but the areas for searching DataSet and callback functions are different.
   > Application's transaction() method requires DataSet and the callback function to be defined in the Application area.
   > On the other hand, Form's transaction() method first searches DataSet and the callback function in the Form area,
   > but if DataSet and the callback function are not defined in the Form area, the search will be expanded to the upper area.
   > If the Form is connected to a container component, the upper component will also be included in the search area.
   > When setting the strInDatasets and strOutDatasets parameters in the Form area, if a format including ."" is used, the search will not be expanded to the upper area.

- Transactions are basically operated in an asynchronous manner.
    As an exception, if a local path is set in strURL, it operates in a synchronous manner regardless of the bAsync option.

- Additional options for strInDatasets
    You can add the options “:U”, “:A”, and “:N” to strInDatasets behind each DataSet ID.
   > “:U” only sends updated information.
   > “:A” sends all information.
   > “:N” sends information excluding currently deleted data in normal state. Non-specified DataSets operate as normal.

- What is processed when there are parameters passed from the server after performing a transaction
   > The name of the parameter is found in the order of Form > Application > Environment, and only the parameter value in the first matching area is updated. 
      If there is no matching parameter in the entire area, the parameter value that has been passed will be ignored.


- What is processed when there are parameters passed from the server after performing a transaction
   > The name of the parameter is found in the order of Form > Application > Environment, and only the parameter value in the first matching area is updated. 
      If there is no matching parameter in the entire area, the parameter value that has been passed will be ignored.

- What is processed when there are parameters passed from the server after performing a transaction
   > The name of the parameter is found in the order of Form > Application > Environment, and only the parameter value in the first matching area is updated. 
      If there is no matching parameter in the entire area, the parameter value that has been passed will be ignored.

- Noteworthy matters regarding the ErrorCode parameter of Return XML passed from the server after performing a transaction
   > If ErrorCode is a negative number (less than 0), the transaction will be treated as a failure, and the component bound to the status of the Input DataSet will not be redrawn.
      However, if the environment's datasetloadtype property value is "errorallow,” data will be loaded into the Output DataSet.
   > If ErrorCode is 0 or greater, the transaction will be processed as success, the status of the Input DataSet will be changed to "Normal,” and the bound component will be redrawn.
   > If there are no data passed from the server (the server does not execute HttpPlatformResponse itself),
      ErrorCode will be -1, ErrorMsg will be set as "Stream Data is null!," and the callback function will be called.

- How to forcibly stop communication 
   Even in the middle of processing a transaction, communication can be forced to stop by pressing the ESC key.

- Matters to note in regard to Get/Post method 
    1. If strArgument and strInDatasets are “”, and there are no parameters in the Cookies area of the Environment, it will operate in the GET method.
    2. If there is a value in strArgument or strInDatasets or a parameter le in the Cookies area of the Environment, it will operate as POST.
    3. If the addcookietovariable value is "true" under the conditions specified in 1 above, it will operate in the GET method during initial communication with the server, and from then on, it will operate in the GET method depending on whether there are cookies coming from the server. If there is a cookie and there is no POST, it will operate in the GET method.
      (If the addcookietovariable value is "true,” the cookie will be automatically added as a parameter to the Cookies area of the Environment.)

- When data is received from the server multiple times in a chunked form, the method of loading the data can be set using the progressload property.
    For more information, refer to “Dataset > progressload.”

- The communication protocol for transactions is HTTP/1.1.

- When executing a transaction when running Nexacro using Nexacro Studio, it will operate as “none” regardless of the CacheLevel setting.

- Matters to note in regard to the SSV type 
> Extend the CSV format to link Nexacro web and mobile versions.
 > Extension details: Add RowType and change delimiter (comma -> US, line break (CR/LF) -> RS)
 > To distinguish between Empty String and undefined, undefined is replaced with an ETX (end of text)[code:0x03] value and sent to the server.


<b>◆ WRE Constraints</b>
 
- If the nDataTYpe value is “Binary,” it will be processed asynchronously (ASync) regardless of the bAsync value.

- bCompress value is not supported.

- If the bAsync value is set as false, the waiting time set in the Environment's httptimeout property will not be applied.

 
<b>◆ Mobile Constraints</b>
 
- iOS/iPadOS only supports the Async method, so the bAsync value will not be applied.
</pre></td> 
				</tr> 
				<tr> 
					<td	colspan='3' height='10'></td> 
				</tr> 
			</table> 
 
		</td> 
	</tr> 
	<tr	class='list'> 
		<td colspan='2'	valign='top'> 
			<table width='98%' border='0' align='center' cellpadding='0' cellspacing='0' style='table-layout:fixed; border-collapse:collapse; border-spacing:0; word-wrap:break-word;'>  
				<tr><td	height='1' bgcolor='#c5c5c6'></td></tr> 
			</table> 
		</td> 
	</tr> 
	<tr	class='list'> 
		<td	width='75' height='35' align='right'></td> 
		<td> 
			<table width='180' border='0'	align='right'	cellpadding='0'	cellspacing='0'> 
				<tr> 
					<td	width='15'><img	src='../../bottom_update.gif'	width='15' height='9'	/></td> 
					<td	width='185'	class='bottom_update'>LAST UPDATED Jan. 2024	</td> 
				</tr> 
			</table> 
		</td> 
	</tr> 
</table> 
</body> 
</html> 
